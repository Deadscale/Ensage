--[[
                \\ THIS LIBRARY WAS FOR TESTING REALLY, I DON'T BELIEVE IT'S READY FOR RELEASE
                                             HOWEVER SOMEONE REQUIRES IT FOR THEIR SCRIPT.
                                             
                                \\ PLEASE AVOID USING THIS FOR ANYTHING BUT TESTING.

______________________Â¶Â¶Â¶Â¶
_______________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
___________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶_Â¶Â¶Â¶
_________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
_______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶_______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶___Â¶Â¶Â¶Â¶       ------------------------------------\\\\\\\\
_____Â¶Â¶Â¶Â¶Â¶Â¶Â¶______________________Â¶Â¶        |   _____                      __    \\\\\\\\\
_____Â¶Â¶Â¶Â¶Â¶Â¶___Â¶Â¶Â¶Â¶Â¶________________Â¶        |  / ___/____ ___  ____ ______/ /_    \\\\\\\\\\
____Â¶Â¶Â¶Â¶Â¶Â¶___Â¶Â¶Â¶1Â¶Â¶Â¶                        |  \__ \/ __ `__ \/ __ `/ ___/ __/     \\\\\\\\\\\
____Â¶Â¶Â¶Â¶Â¶Â¶___Â¶Â¶111Â¶Â¶                        | ___/ / / / / / / /_/ / /  / /_    \\\\\\\\\\\\\
____Â¶Â¶Â¶Â¶Â¶Â¶___Â¶Â¶Â¶1Â¶Â¶Â¶                        |/____/_/ /_/ /_/\__,_/_/   \\_/  \\\\\\\\\\\\\\
____Â¶Â¶Â¶Â¶Â¶Â¶____Â¶Â¶1Â¶Â¶                         |          _________ ______/ /_  \\\\\\\\\\\\\
_____Â¶Â¶Â¶Â¶Â¶Â¶___Â¶Â¶1Â¶Â¶                         |         / ___/ __ `/ ___/ __/ \\\\\\\\\\\
_____Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶_Â¶Â¶Â¶Â¶Â¶                         |        / /__/ /_/ (__  ) /_  \\\\\\\\\\\\\\\
______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶                         |        \___/\__,_/____/\__/   \\\\\\\\\\\\\\\\\\
_______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶                        |   ////////////////////////////////////////////////////
_________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶                       |                       __             _   __  /////////////////////
______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶                |                      / /_  __  __   / | / /___ _   ______ _ ///////////
__Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶            |                     / __ \/ / / /  /  |/ / __ \ | / / __ `/ ////////////
____Â¶Â¶Â¶Â¶11111111111111111Â¶Â¶Â¶Â¶Â¶              |                    / /_/ / /_/ /  / /|  / /_/ / |/ / /_/ /  /////////////
_______Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶                 |                   /_.___/\__, /  /_/ |_/\____/|___/\__,_/   ////////////////
______________Â¶Â¶_1_Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶                |                         /____/                              /////////
______________Â¶Â¶_1_Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶               -----------------------------------------------------------------------------------
______________Â¶Â¶_1_Â¶Â¶__Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶___Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶__Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
_____________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
____________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
___________Â¶Â¶Â¶Â¶Â¶Â¶Â¶_Â¶Â¶
__________Â¶Â¶Â¶Â¶Â¶Â¶_1_Â¶Â¶
__________Â¶Â¶Â¶Â¶Â¶Â¶_1_Â¶Â¶
__________Â¶Â¶Â¶Â¶Â¶Â¶_1_Â¶Â¶
__________Â¶Â¶Â¶Â¶Â¶Â¶_1_Â¶Â¶
__________Â¶Â¶Â¶Â¶Â¶Â¶_1_Â¶Â¶
___________Â¶Â¶Â¶Â¶Â¶_1_Â¶Â¶
____________Â¶Â¶Â¶Â¶_1_Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶Â¶_Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶_1_Â¶Â¶__Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
_____________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
____________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
___________Â¶Â¶Â¶Â¶Â¶___Â¶Â¶
___________Â¶Â¶Â¶Â¶Â¶___Â¶Â¶
___________Â¶Â¶Â¶Â¶Â¶___Â¶Â¶
____________Â¶Â¶Â¶Â¶___Â¶Â¶
____________Â¶Â¶Â¶Â¶___Â¶Â¶
______________Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶___Â¶Â¶Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶___Â¶Â¶_Â¶Â¶Â¶Â¶Â¶
______________Â¶Â¶___Â¶Â¶___Â¶Â¶Â¶Â¶
_______________Â¶Â¶_Â¶Â¶_____Â¶Â¶Â¶
________________Â¶Â¶Â¶______Â¶Â¶Â¶
_________________Â¶_______Â¶Â¶

I PUT A PICTURE HERE BECAUSE I CAN, THAT'S WHY


Reason?
    I made this library in order to tackle multiple enemies more effectively. Well, started it anyway...
    It will always try to catch as many as possible, and you can set a Minimum number that it has to catch

----------------------------
\\\\______Features______////
        -----------------------------------------------------------------------------------------------------------------
        | SmartCast.CastAOE(Ability, Minimum, SpellRange, CastRange, Blink)                                             |
        |      Description: Cast's the ability on the central position between entities                                 |
        |         - Ability should be self explanatory                                                                  |
        |         - Minimum is the minimum number of enemies you would like to hit                                      |
        |         - SpellRange is the range of your spell                                                               |
        |         - CastRange is how far you can cast the spell from your hero (Put 0 if there it's a no target ability)|
        |         - Blink (true/false) - Includes Blink Dagger the Cast.                                                |
        -----------------------------------------------------------------------------------------------------------------      
        | SmartCast.FindAOE(Minimum, SpellRange, CastRange, Blink)                                                      |
        |      Description: Returns the central position between entities if they're within range, else nil.            |
        |         - Minimum is the minimum number of enemies you would like to hit                                      |
        |         - SpellRange is the range of your spell                                                               |
        |         - CastRange is how far you can cast the spell from your hero (Put 0 if there it's a no target ability)|
        |         - Blink (true/false) - Includes distance for Blink Dagger the calculation                             |
        -----------------------------------------------------------------------------------------------------------------
        | TO BE MADE - SmartCast.PredictedAOE(CastPoint, Speed, Range, Minimum) (With use of the SkillShot Library)     |

    Quick Example -
        --Imagine I'm Enigma with Blink and wanted to catch atleast 4 in a black hole.
        
        local R = me:GetAbility(4)
        
        if R and R:CanBeCasted() and IsKeyDown(32) then
            SmartCast.CastAOE(R, 4, 400, 275, true) 
        end
        
        -- And that's it, by holding Space, if there is ever 4 heroes all within range of your ult it will blink in and 
           cast your ultimate.
  
    Tips -
       This works best with instant cast abilities, i.e EarthShakers Ultimate. Since this isn't predicted yet you may want
       to decrease the spell range slightly in order to guarantee that you catch even fast enemies.
       
       This also works from highest down, so even if I set it to two, it will check all combinations from 5 -> 2.

    Final Comments -
       I CAN GUARANTEE THAT THIS HAS BUGS, I HAVEN'T EVEN TESTED IT PROPERLY. DONT USE UNLESS FOR TESTING PURPOSES
]]--

require("libs.Utils")

SmartCast = {}
SmartCast.Location = {}
SmartCast.Distance = {}
SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}

function AllValuesOf(...)
  for i = 1, select('#',...) do
    if type(select(i,...)) == "table" then
      for k = 1, #select(i,...) do
        table.insert(SmartCast.Location, select(i,...)[k])
      end
    end
  end
end

function SmartCast.CastAOE(Minimum, SpellRange, CastRange, Blink)
  local me = entityList:GetMyHero()

  local Dagger = me:FindItem("item_blink")

  if Blink == true then
    enemies = entityList:GetEntities(function(v) return v.type == LuaEntity.TYPE_HERO and v.team == me:GetEnemyTeam() and v.visible and not v.illusion and v.alive and v:GetDistance2D(me) < (CastRange + SpellRange + 1200)  end)
  else
    enemies = entityList:GetEntities(function(v) return v.type == LuaEntity.TYPE_HERO and v.team == me:GetEnemyTeam() and v.visible and not v.illusion and v.alive and v:GetDistance2D(me) < (CastRange + SpellRange)  end)
  end

  if #enemies == 0 then return end

  if #enemies >= 2 then
    table.insert(SmartCast.Center, 1, (enemies[1].position + enemies[2].position) / 2)
  end

  if #enemies >= 3 then
    -- 3 but looking for 2
    table.insert(SmartCast.Center, 2, {(enemies[1].position + enemies[3].position) / 2,
      (enemies[2].position + enemies[3].position) / 2})
    -- Just 3
    table.insert(SmartCast.Center, 5, (enemies[1].position + enemies[2].position + enemies[3].position) / 3)
  end

  if #enemies >= 4 then
    -- 4 but looking for 2
    table.insert(SmartCast.Center, 3, {(enemies[1].position + enemies[4].position) / 2,
      (enemies[2].position + enemies[4].position) / 2,
      (enemies[3].position + enemies[4].position) / 2})
    -- 4 but looking for 3
    table.insert(SmartCast.Center, 6, {(enemies[1].position + enemies[2].position + enemies[4].position) / 3,
      (enemies[1].position + enemies[3].position + enemies[4].position) / 3,
      (enemies[2].position + enemies[3].position + enemies[4].position) / 3})
    -- Just 4
    table.insert(SmartCast.Center, 8, (enemies[1].position + enemies[2].position + enemies[3].position + enemies[4].position) / 4)
  end
  if #enemies == 5 then
    -- 5 but looking for 2
    table.insert(SmartCast.Center, 4, {(enemies[1].position + enemies[5].position) / 2,
      (enemies[2].position + enemies[5].position) / 2,
      (enemies[3].position + enemies[5].position) / 2,
      (enemies[4].position + enemies[5].position) / 2})
    -- 5 but looking for 3
    table.insert(SmartCast.Center, 7, {(enemies[1].position + enemies[2].position + enemies[5].position) / 3,
      (enemies[1].position + enemies[3].position + enemies[5].position) / 3,
      (enemies[1].position + enemies[4].position + enemies[5].position) / 3,
      (enemies[2].position + enemies[3].position + enemies[5].position) / 3,
      (enemies[2].position + enemies[4].position + enemies[5].position) / 3,
      (enemies[3].position + enemies[4].position + enemies[5].position) / 3})
    -- 5 but looking for 4
    table.insert(SmartCast.Center, 9,{(enemies[1].position + enemies[2].position + enemies[3].position + enemies[5].position) / 4,
      (enemies[1].position + enemies[2].position + enemies[4].position + enemies[5].position) / 4,
      (enemies[1].position + enemies[3].position + enemies[4].position + enemies[5].position) / 4,
      (enemies[2].position + enemies[3].position + enemies[4].position + enemies[5].position) / 4})
    -- Just 5
    table.insert(SmartCast.Center, 10, (enemies[1].position + enemies[2].position + enemies[3].position + enemies[4].position + enemies[5].position) / 5)
  end

  if Minimum == 1 then
    table.insert(SmartCast.Location, enemies[1].position)
  elseif Minimum == 2 then
    if #enemies == 2 then
      table.insert(SmartCast.Location, SmartCast.Center[1])
    elseif #enemies == 3 then
      table.insert(SmartCast.Location, SmartCast.Center[5])
      AllValuesOf(SmartCast.Center[2])
      table.insert(SmartCast.Location, SmartCast.Center[1])
    elseif #enemies == 4 then
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
      AllValuesOf(SmartCast.Center[3])
      AllValuesOf(SmartCast.Center[2])
      table.insert(SmartCast.Location, SmartCast.Center[1])
    elseif #enemies == 5 then
      table.insert(SmartCast.Location, SmartCast.Center[10])
      AllValuesOf(SmartCast.Center[9])
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[7])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
      AllValuesOf(SmartCast.Center[4])
      AllValuesOf(SmartCast.Center[3])
      AllValuesOf(SmartCast.Center[2])
      table.insert(SmartCast.Location, SmartCast.Center[1])
    end
  elseif Minimum == 3 then
    if #enemies == 3 then
      table.insert(SmartCast.Location, SmartCast.Center[5])
    elseif #enemies == 4 then
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
    elseif #enemies == 5 then
      table.insert(SmartCast.Location, SmartCast.Center[10])
      AllValuesOf(SmartCast.Center[9])
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[7])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
    end
  elseif Minimum == 4 then
    if #enemies == 4 then
      table.insert(SmartCast.Location, SmartCast.Center[8])
    elseif #enemies == 5 then
      table.insert(SmartCast.Location, SmartCast.Center[10])
      AllValuesOf(SmartCast.Center[9])
      table.insert(SmartCast.Location, SmartCast.Center[8])
    end
  elseif Minimum == 5 then
    table.insert(SmartCast.Location, SmartCast.Center[10])
  end

  for k=1, #SmartCast.Location do
    if SmartCast.Location[k] == nil then
      break
    end
    for i=1, #enemies do
      print(SmarCast.Location[k].x)
      SmartCast.Distance[i] = math.sqrt(math.pow(SmartCast.Location[k].x-enemies[i].position.x,2)+math.pow(SmartCast.Location[k].y-enemies[i].position.y,2))
    end
    table.sort(SmartCast.Distance)
    if (SmartCast.Distance[Minimum] < SpellRange) and (math.sqrt(math.pow(SmartCast.Location[k].x-me.position.x,2)+math.pow(SmartCast.Location[k].y-me.position.y,2)) < CastRange) then
      if CastRange < 0 then
        entityList:GetMyPlayer():UseAbility(Ability, SmartCast.Location)
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      else
        entityList:GetMyPlayer():UseAbility(Ability)
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      end
    end
    if (SmartCast.Distance[Minimum] < SpellRange) and Blink == true and Dagger and (math.sqrt(math.pow(SmartCast.Location[k].x-me.position.x,2)+math.pow(SmartCast.Location[k].y-me.position.y,2)) < (1200 + CastRange)) then
      if CastRange < 0 then
        entityList:GetMyPlayer():UseAbility(Dagger, SmartCast.Location[k])
        entityList:GetMyPlayer():UseAbility(Ability, SmartCast.Location[k], true)
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      else
        entityList:GetMyPlayer():UseAbility(Dagger, SmartCast.Location[k])
        entityList:GetMyPlayer():UseAbility(Ability, true)
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      end
    end
    table.remove(SmartCast.Location, k)
  end
end

function SmartCast.FindAOE(Ability, Minimum, SpellRange, CastRange, Blink)
  local Position = nil
  local me = entityList:GetMyHero()

  local Dagger = me:FindItem("item_blink")

  if Blink == true then
    enemies = entityList:GetEntities(function(v) return v.type == LuaEntity.TYPE_HERO and v.team == me:GetEnemyTeam() and v.visible and not v.illusion and v.alive and v:GetDistance2D(me) < (CastRange + SpellRange + 1200)  end)
  else
    enemies = entityList:GetEntities(function(v) return v.type == LuaEntity.TYPE_HERO and v.team == me:GetEnemyTeam() and v.visible and not v.illusion and v.alive and v:GetDistance2D(me) < (CastRange + SpellRange)  end)
  end

  if #enemies == 0 then return end

  if #enemies >= 2 then
    table.insert(SmartCast.Center, 1, (enemies[1].position + enemies[2].position) / 2)
  end

  if #enemies >= 3 then
    -- 3 but looking for 2
    table.insert(SmartCast.Center, 2, {(enemies[1].position + enemies[3].position) / 2,
      (enemies[2].position + enemies[3].position) / 2})
    -- Just 3
    table.insert(SmartCast.Center, 5, (enemies[1].position + enemies[2].position + enemies[3].position) / 3)
  end

  if #enemies >= 4 then
    -- 4 but looking for 2
    table.insert(SmartCast.Center, 3, {(enemies[1].position + enemies[4].position) / 2,
      (enemies[2].position + enemies[4].position) / 2,
      (enemies[3].position + enemies[4].position) / 2})
    -- 4 but looking for 3
    table.insert(SmartCast.Center, 6, {(enemies[1].position + enemies[2].position + enemies[4].position) / 3,
      (enemies[1].position + enemies[3].position + enemies[4].position) / 3,
      (enemies[2].position + enemies[3].position + enemies[4].position) / 3})
    -- Just 4
    table.insert(SmartCast.Center, 8, (enemies[1].position + enemies[2].position + enemies[3].position + enemies[4].position) / 4)
  end
  if #enemies == 5 then
    -- 5 but looking for 2
    table.insert(SmartCast.Center, 4, {(enemies[1].position + enemies[5].position) / 2,
      (enemies[2].position + enemies[5].position) / 2,
      (enemies[3].position + enemies[5].position) / 2,
      (enemies[4].position + enemies[5].position) / 2})
    -- 5 but looking for 3
    table.insert(SmartCast.Center, 7, {(enemies[1].position + enemies[2].position + enemies[5].position) / 3,
      (enemies[1].position + enemies[3].position + enemies[5].position) / 3,
      (enemies[1].position + enemies[4].position + enemies[5].position) / 3,
      (enemies[2].position + enemies[3].position + enemies[5].position) / 3,
      (enemies[2].position + enemies[4].position + enemies[5].position) / 3,
      (enemies[3].position + enemies[4].position + enemies[5].position) / 3})
    -- 5 but looking for 4
    table.insert(SmartCast.Center, 9,{(enemies[1].position + enemies[2].position + enemies[3].position + enemies[5].position) / 4,
      (enemies[1].position + enemies[2].position + enemies[4].position + enemies[5].position) / 4,
      (enemies[1].position + enemies[3].position + enemies[4].position + enemies[5].position) / 4,
      (enemies[2].position + enemies[3].position + enemies[4].position + enemies[5].position) / 4})
    -- Just 5
    table.insert(SmartCast.Center, 10, (enemies[1].position + enemies[2].position + enemies[3].position + enemies[4].position + enemies[5].position) / 5)
  end


  if Minimum == 1 then
    table.insert(SmartCast.Location, enemies[1].position)
  elseif Minimum == 2 then
    if #enemies == 2 then
      table.insert(SmartCast.Location, SmartCast.Center[1])
    elseif #enemies == 3 then
      table.insert(SmartCast.Location, SmartCast.Center[5])
      AllValuesOf(SmartCast.Center[2])
      table.insert(SmartCast.Location, SmartCast.Center[1])
    elseif #enemies == 4 then
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
      AllValuesOf(SmartCast.Center[3])
      AllValuesOf(SmartCast.Center[2])
      table.insert(SmartCast.Location, SmartCast.Center[1])
    elseif #enemies == 5 then
      table.insert(SmartCast.Location, SmartCast.Center[10])
      AllValuesOf(SmartCast.Center[9])
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[7])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
      AllValuesOf(SmartCast.Center[4])
      AllValuesOf(SmartCast.Center[3])
      AllValuesOf(SmartCast.Center[2])
      table.insert(SmartCast.Location, SmartCast.Center[1])
    end
  elseif Minimum == 3 then
    if #enemies == 3 then
      table.insert(SmartCast.Location, SmartCast.Center[5])
    elseif #enemies == 4 then
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
    elseif #enemies == 5 then
      table.insert(SmartCast.Location, SmartCast.Center[10])
      AllValuesOf(SmartCast.Center[9])
      table.insert(SmartCast.Location, SmartCast.Center[8])
      AllValuesOf(SmartCast.Center[7])
      AllValuesOf(SmartCast.Center[6])
      table.insert(SmartCast.Location, SmartCast.Center[5])
    end
  elseif Minimum == 4 then
    if #enemies == 4 then
      table.insert(SmartCast.Location, SmartCast.Center[8])
    elseif #enemies == 5 then
      table.insert(SmartCast.Location, SmartCast.Center[10])
      AllValuesOf(SmartCast.Center[9])
      table.insert(SmartCast.Location, SmartCast.Center[8])
    end
  elseif Minimum == 5 then
    table.insert(SmartCast.Location, SmartCast.Center[10])
  end

  for k=1, #SmartCast.Location do
    if SmartCast.Location[k] == nil then
      break
    end
    for i=1, #enemies do
      SmartCast.Distance[i] = math.sqrt(math.pow(SmartCast.Location[k].x-enemies[i].position.x,2)+math.pow(SmartCast.Location[k].y-enemies[i].position.y,2))
    end
    table.sort(SmartCast.Distance)
    if (SmartCast.Distance[Minimum] < SpellRange) and (math.sqrt(math.pow(SmartCast.Location[k].x-me.position.x,2)+math.pow(SmartCast.Location[k].y-me.position.y,2)) < CastRange) then
      if CastRange < 0 then
        Position = SmartCast.Location[k]
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      else
        Position = SmartCast.Location[k]
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      end
    end
    if (SmartCast.Distance[Minimum] < SpellRange) and Blink == true and Dagger and (math.sqrt(math.pow(SmartCast.Location[k].x-me.position.x,2)+math.pow(SmartCast.Location[k].y-me.position.y,2)) < (1200 + CastRange)) then
      if CastRange < 0 then
        Position = SmartCast.Location[k]
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      else
        Position = SmartCast.Location[k]
        SmartCast.Location = {}
        SmartCast.Distance = {}
        SmartCast.Center = {1,1,1,1,1,1,1,1,1,1}
        break
      end
    end
    table.remove(SmartCast.Location, k)
  end
  return Position
end
